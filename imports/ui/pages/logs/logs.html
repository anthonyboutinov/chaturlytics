<template name="Page_logs">
  <h2 class="title">Logs</h2>

  <div class="section">
    <h3 class="is-size-4 title">Data Points</h3>
    <table class="table is-fullwidth is-striped is-size-7">
      <thead>
        <tr>
          <th></th>
          <th>Timeframe</th>
          <th>Duration</th>
          <th>Tokens<br>Earned</th>
          <th>Followers<br>Earned</th>
          <!-- <th>Total<br>Followers</th> -->
          <th>Num<br>Viewers</th>
          <th>Num<br>Registered<br>Viewers</th>
          <th>Num<br>Tokened<br>Viewers</th>
          <th>Votes<br>Up</th>
          <th>Votes<br>Down</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {{#each dataPoints}}
          <tr>
            <th>
              {{#if sessionId}}<i class="fas fa-video {{#if broadcastHasDropped}} has-text-warning {{else}} has-text-success {{/if}} "
              title="Broadcasting{{#if broadcastHasDropped}}, broadcast has dropped for a few minutes{{/if}}"></i>{{/if}}
            </th>
            <th>{{timeframe}}</th>
            <td>{{duration}}</td>
            <td class="has-text-right">{{deltaTokens}} TKN</td>
            <td class="has-text-right">{{deltaFollowers}}</td>
            <!-- <td class="has-text-right">{{rawFollowers}}</td> -->
            <td class="has-text-right">{{numViewers}}</td>
            <td class="has-text-right">{{numRegisteredViewers}}</td>
            <td class="has-text-right">{{numTokenedViewers}}</td>
            <td class="has-text-right">{{deltaVotesUp}}</td>
            <td class="has-text-right">{{deltaVotesDown}}</td>
            <td class="has-text-right"><a class="delete-dataPoint delete has-background-danger"></a></td>
          </tr>
        {{/each}}
      </tbody>
    </table>
  </div>

  <div class="section">
    <h3 class="is-size-4 title">Broadcasts</h3>
    <table class="table is-fullwidth is-striped is-size-7">
      <thead>
        <tr>
          <th></th>
          <th>From-To</th>
          <th>Duration</th>
          <th>Tokens<br>Earned</th>
          <th>Followers<br>Earned</th>
          <th>Median<br>Num<br>Viewers</th>
          <th>Median<br>Num<br>Registered<br>Viewers</th>
          <th>Median<br>Num<br>Tokened<br>Viewers</th>
          <th>Votes<br>Up</th>
          <th>Votes<br>Down</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {{#each sessions}}
          <tr>
            <th>{{#if broadcastHasDropped}}<i class="fas fa-video has-text-warning"
            title="Broadcasting, broadcast has dropped for a few minutes, see details"></i>{{/if}}</th>
            <th>{{timeframe}}</th>
            <td>{{duration}}</td>
            <td class="has-text-right">{{deltaTokens}} TKN</td>
            <td class="has-text-right">{{deltaFollowers}}</td>
            <td class="has-text-right">{{numViewers}}</td>
            <td class="has-text-right">{{numRegisteredViewers}}</td>
            <td class="has-text-right">{{numTokenedViewers}}</td>
            <td class="has-text-right">{{deltaVotesUp}}</td>
            <td class="has-text-right">{{deltaVotesDown}}</td>

            <td class="has-text-right">
              <a class="delete delete-session has-background-danger"></a>
              <i class="fas fa-calculator has-text-info summarize-session"></i>
            </td>
          </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
</template>
